---
title: 'deep learning 入门资料和环境配置'
date: 2019-03-19
permalink: /posts/2019/03/19/blog-post-1/
tags:
  - deep learning
  - introduction
---



本文是deep learning的一些资料和可能配置过程中可能遇到的坑。



<h3 id="deep-learning-入门资料和环境配置">deep learning 入门资料和环境配置</h3>

<p></p>

<div><div class="toc"><div class="toc">
<ul>
<li><ul>
<li><ul>
<li><a href="#deep-learning-入门资料和环境配置">deep learning 入门资料和环境配置</a><ul>
<li><a href="#资料">资料</a></li>
<li><a href="#cuda-and-cudnn">cuda and cudnn</a></li>
<li><a href="#tensorflow-gpu-安装">TensorFlow gpu 安装</a></li>
<li><a href="#pytorch-安装">pytorch 安装</a></li>
<li><a href="#github操作">Github操作</a></li>
<li><a href="#windows-环境配置">windows 环境配置</a></li>
<li><a href="#使用pycharm-连接服务器写代码">使用pycharm 连接服务器写代码</a></li>
<li><a href="#用浏览器jupyter-在服务器上写代码">用浏览器+jupyter 在服务器上写代码</a></li>
<li><a href="#shell-命令行配置">Shell 命令行配置</a></li>
<li><a href="#tensorboard-使用">tensorboard 使用</a></li>
<li><a href="#conda-安装各种包">conda 安装各种包</a></li>
<li><a href="#jupyter-使用tqdm">jupyter 使用tqdm</a></li>
<li><a href="#jupyter-文件转pdf格式">jupyter 文件转pdf格式</a></li>
<li><a href="#jupyter-autoreload">jupyter autoreload</a></li>
<li><a href="#使用pdb进行python-调试">使用pdb进行python 调试</a></li>
<li><a href="#后台运行程序">后台运行程序</a></li>
<li><a href="#keras-显式输出">keras 显式输出</a></li>
<li><a href="#keras-plot-model">keras plot model:</a></li>
<li><a href="#keras-结束当前计算图">keras 结束当前计算图</a></li>
<li><a href="#tf查看未初始化tensor">tf查看未初始化tensor</a></li>
<li><a href="#tensorflow-尽量不要让向量shape-为n而是n1">tensorflow 尽量不要让向量shape 为(n,)而是(n,1)</a></li>
<li><a href="#tfresetdefaultgraph-重置所有图不会出现reuse-的bug">tf.reset_default_graph() 重置所有图（不会出现reuse 的bug）</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>



<h4 id="资料">资料</h4>

<p>What are the best resources to learn about deep learning? <br>
<a href="https://www.quora.com/What-are-the-best-resources-to-learn-about-deep-learning" target="_blank">https://www.quora.com/What-are-the-best-resources-to-learn-about-deep-learning</a></p>

<p>Learning machine learning and data science <br>
<a href="https://algorithmsdatascience.quora.com/Learning-machine-learning-and-data-science" target="_blank">https://algorithmsdatascience.quora.com/Learning-machine-learning-and-data-science</a></p>

<p>machine learning yearning <br>
<a href="https://github.com/mbadry1/DeepLearning.ai-Summary" target="_blank">https://github.com/mbadry1/DeepLearning.ai-Summary</a></p>

<p>deep learning bengio <br>
<a href="https://www.deeplearningbook.org/" target="_blank">https://www.deeplearningbook.org/</a></p>

<p>深度学习500问 <br>
<a href="https://github.com/scutan90/DeepLearning-500-questions" target="_blank">https://github.com/scutan90/DeepLearning-500-questions</a></p>

<p>机器之心ML-Tutorial-Experiment <br>
<a href="https://github.com/jiqizhixin/ML-Tutorial-Experiment" target="_blank">https://github.com/jiqizhixin/ML-Tutorial-Experiment</a> <br>
pytorch 项目模板: <br>
<a href="https://github.com/victoresque/pytorch-template" target="_blank">https://github.com/victoresque/pytorch-template</a></p>

<p>tensorflow项目模板: <br>
<a href="https://github.com/756481896/DLPDE_Project/tree/master/DLPDE_Project_origin" target="_blank">https://github.com/756481896/DLPDE_Project/tree/master/DLPDE_Project_origin</a></p>

<p>keras 项目模板: <br>
<a href="https://github.com/Ahmkel/Keras-Project-Template" target="_blank">https://github.com/Ahmkel/Keras-Project-Template</a></p>

<p>deep learning.ai 课程by Andrew Ng  <br>
<a href="https://mooc.study.163.com/university/deeplearning_ai#/c" target="_blank">https://mooc.study.163.com/university/deeplearning_ai#/c</a></p>

<p>Effective TensorFlow <br>
<a href="https://github.com/vahidk/EffectiveTensorflow" target="_blank">https://github.com/vahidk/EffectiveTensorflow</a></p>

<p>deeplearning-papernotes <br>
<a href="https://github.com/dennybritz/deeplearning-papernotes" target="_blank">https://github.com/dennybritz/deeplearning-papernotes</a></p>

<p>An awesome Data Science repository to learn and apply for real world problems. <br>
<a href="https://github.com/bulutyazilim/awesome-datascience" target="_blank">https://github.com/bulutyazilim/awesome-datascience</a></p>

<p>Quiz &amp; Assignment of Coursera <br>
<a href="https://github.com/shenweichen/Coursera" target="_blank">https://github.com/shenweichen/Coursera</a></p>

<p>TensorFlow Tutorial and Examples for Beginners with Latest APIs <br>
<a href="https://github.com/aymericdamien/TensorFlow-Examples" target="_blank">https://github.com/aymericdamien/TensorFlow-Examples</a></p>



<h4 id="cuda-and-cudnn">cuda and cudnn</h4>

<p>下载安装cuda <br>
sudo dpkg -i cuda-repo-ubuntu1604-8-0-rc_8.0.27-1_amd64.deb <br>
sudo apt-get update <br>
sudo apt-get install cuda</p>

<p>下载cudnn <br>
tar xvzf cudnn-8.0-linux-x64-v5.1.tgz <br>
sudo cp cuda/include/cudnn.h /usr/local/cuda/include <br>
sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64 <br>
sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*</p>

<p>sudo vi ~/.bash_profile <br>
加入 <br>
export LD_LIBRARY_PATH=”$LD_LIBRARY_PATH:/usr/local/cuda/lib64:/usr/local/cuda/extras/CUPTI/lib64” <br>
export CUDA_HOME=/usr/local/cuda <br>
导入 <br>
source ~/.bash_profile</p>

<p>报错：ImportError: libcudnn.so.6: cannot open shared object file: No such file or directory解决：升级cudnn到6 <br>
报错:ImportError: libcublas.so.8.0: cannot open shared object file: No such file or directory <br>
解决python3 -m pip install tf-nightly-gpu</p>



<h4 id="tensorflow-gpu-安装">TensorFlow gpu 安装</h4>

<p>conda install -c anaconda tensorflow-gpu tensorflow=1.12.0</p>



<h4 id="pytorch-安装">pytorch 安装</h4>

<p>sh Anaconda-… <br>
conda install pytorch -c pytorch <br>
conda install pytorch torchvision -c pytorch <br>
pip install tensorboard <br>
pip install tensorboardx</p>



<h4 id="github操作">Github操作</h4>

<p>安装: <br>
git config –global user.name “shen” <br>
git config –global user.email “756481896@qq.com” <br>
ssh-keygen -t rsa -C “756481896@qq.com” <br>
 cat ~/.ssh/id_rsa.pub <br>
 复制结果 <br>
 登录github账号，设置，ssh keys-new ssh key <br>
 输入 <br>
 ssh -T git@github.com <br>
 测试是否连接成功</p>

<p>github简易指南 <br>
<a href="http://www.bootcss.com/p/git-guide/" target="_blank">http://www.bootcss.com/p/git-guide/</a> <br>
<a href="&quot;http://mp.weixin.qq.com/s?&lt;strong" target="_blank">biz=MzU1NTUxNTM0Mg==&amp;mid=2247489742&amp;idx=2&amp;sn=84e713ef338a62feaeb4aa2297965252&amp;chksm=fbd2746fcca5fd79aa9de2644e9d387722863f18ef460fcfccaaf103b735170cad8e40d25236&amp;mpshare=1&amp;scene=24&amp;srcid=#rd”&gt;http://mp.weixin.qq.com/s?biz=MzU1NTUxNTM0Mg==&amp;mid=2247489742&amp;idx=2&amp;sn=84e713ef338a62feaeb4aa2297965252&amp;chksm=fbd2746fcca5fd79aa9de2644e9d387722863f18ef460fcfccaaf103b735170cad8e40d25236&amp;mpshare=1&amp;scene=24&amp;srcid=#rd</a></p>



<h4 id="windows-环境配置">windows 环境配置</h4>

<p>在windows 上安装Ubuntu 子系统 <br>
ubuntu on Windows <br>
<a href="https://www.windows10.pro/bash-on-ubuntu-on-windows/" target="_blank">https://www.windows10.pro/bash-on-ubuntu-on-windows/</a></p>

<p>cmder <br>
<a href="http://cmder.net/" target="_blank">http://cmder.net/</a></p>



<h4 id="使用pycharm-连接服务器写代码">使用pycharm 连接服务器写代码</h4>

<p><a href="https://blog.csdn.net/zhaihaifei/article/details/53691873" target="_blank">https://blog.csdn.net/zhaihaifei/article/details/53691873</a></p>



<h4 id="用浏览器jupyter-在服务器上写代码">用浏览器+jupyter 在服务器上写代码</h4>

<p>登录服务器 <br>
ssh  xingshen@10.13.63.207 <br>
export PATH=~/anaconda3/bin:$PATH <br>
ipython notebook –no-browser –port=8889</p>

<p>本地: <br>
ssh -N -f -L localhost:8888:localhost:8889  xingshen@10.13.63.20 <br>
浏览器上打开<a href="http://localhost:8888" target="_blank">http://localhost:8888</a></p>



<h4 id="shell-命令行配置">Shell 命令行配置</h4>

<p>zsh: <br>
sudo apt install zsh <br>
on my zsh: <br>
sh -c “$(curl -fsSL <a href="https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh" target="_blank">https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh</a>)”</p>



<h4 id="tensorboard-使用">tensorboard 使用</h4>

<p>代码中添加</p>



<pre class="prettyprint hljs-dark"><code class="hljs gauss"><div class="hljs-line">tensorboard_dir = 'tensorboard/mnist'   <span class="hljs-meta"># 保存目录</span>
</div><div class="hljs-line"><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(tensorboard_dir):
</div><div class="hljs-line">    os.makedirs(tensorboard_dir)
</div><div class="hljs-line"><wbr>
</div><div class="hljs-line"><span class="hljs-built_in">writer</span> = tf.summary.FileWriter(tensorboard_dir)
</div><div class="hljs-line"><span class="hljs-built_in">writer</span>.add_graph(session.<span class="hljs-keyword">graph</span>)
</div></code></pre>

<p>终端运行</p>



<pre class="prettyprint hljs-dark"><code class="hljs ada"><div class="hljs-line">$ tensorboard <span class="hljs-comment">--logdir tensorboard/mnist</span>
</div></code></pre>

<p>需要pip install tb-nightly <br>
会出现 <br>
TensorBoard 1.5.0a20180110 at <a href="http://gpu-1:6006" target="_blank">http://gpu-1:6006</a> (Press CTRL+C to quit) <br>
点击网址即可</p>



<h4 id="conda-安装各种包">conda 安装各种包</h4>

<p>conda install -c anaconda pygraphviz <br>
安装各种不好安装的包</p>



<h4 id="jupyter-使用tqdm">jupyter 使用tqdm</h4>

<p>tqdm 可以把训练过程用动态进度条表示出来 <br>
from tqdm import tqdm_notebook as tqdm <br>
import time <br>
for i in tqdm(range(100)): <br>
    time.sleep(0.1)</p>

<p>for i in tqdm(range(100)): <br>
    time.sleep(0.5)</p>



<h4 id="jupyter-文件转pdf格式">jupyter 文件转pdf格式</h4>

<p>conda install nbconvert <br>
sudo apt-get install texlive-xetex <br>
安装好之后就可以用，但是不能用迅雷</p>



<h4 id="jupyter-autoreload">jupyter autoreload</h4>

<p>,py代码用jupyter 修改后，要有autoreload机制才可以在.ipynb中重新加载，否则要重开kernel。 <br>
%load_ext autoreload <br>
%autoreload 2</p>



<h4 id="使用pdb进行python-调试">使用pdb进行python 调试</h4>

<p>import pdb  <br>
在断点处添上 pdb.set_trace() <br>
运行 <br>
：p var 将变量var 打印出来</p>



<h4 id="后台运行程序">后台运行程序</h4>

<p>nohup python train.py</p>



<h4 id="keras-显式输出">keras 显式输出</h4>

<p>keras.eval(ts)</p>



<h4 id="keras-plot-model">keras plot model:</h4>

<p>sudo yum install graphviz(不能用pip)</p>



<h4 id="keras-结束当前计算图">keras 结束当前计算图</h4>

<p>K.clear_session()</p>



<h4 id="tf查看未初始化tensor">tf查看未初始化tensor</h4>

<p>print(sess.run(tf.report_uninitialized_variables()))</p>



<h4 id="tensorflow-尽量不要让向量shape-为n而是n1">tensorflow 尽量不要让向量shape 为(n,)而是(n,1)</h4>



<h4 id="tfresetdefaultgraph-重置所有图不会出现reuse-的bug">tf.reset_default_graph() 重置所有图（不会出现reuse 的bug）</h4></div></body></html>